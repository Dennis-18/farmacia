<div class="container">
  <h1 class="text-center">Turnos</h1>

  <div class="row mt-4">
    <div class="col">
      <label class="form-label">Nombre y Apellido</label>
      <input type="text" class="form-control" id="descripcion" name="nombre" disabled [(ngModel)]="nombre + ' ' + apellido">
    </div>

    <div class="col">
      <label class="form-label">Fecha y Hora de Inicio</label>
      <input type="text" class="form-control" id="fecha_inicio" name="fecha_inicio" [(ngModel)]="turno.fecha_inicio"  disabled>
    </div>

    <div class="col">
      <label class="form-label">Fecha de Finalizacion</label>
      <input type="text" class="form-control" id="fecha_final" name="fecha_final" [(ngModel)]="turno.fecha_final" disabled>
    </div>

    <div class="col">
      <label class="form-label">Notas</label>
      <input type="text" class="form-control" id="notas" name="notas" [(ngModel)]="turno.notas" requried>
    </div>
  </div>

  <div class="row mt-4">
    <div class="col-auto ">
        <button class="btn btn-primary" (click)="nuevoTurno()" *ngIf="!existeMovimiento">Iniciar turno</button>
        <button class="btn btn-primary" (click)="finalizarTurno()" *ngIf="existeMovimiento">Finalizar turno</button>
    </div>
  </div>

  <!-- saldos -->
<app-saldos></app-saldos>

  <h2 class="text-center mt-4" *ngIf="existeMovimiento">Movimientos realizados en este turno</h2>

  <table *ngIf="existeMovimiento" class="table table-striped table-hover" id="tablaMovimientos">
    <thead>
      <tr>
        <!-- <th scope="col" >#</th> -->
        <th scope="col">TIPO DE MOVIMIENTO</th>
        <th scope="col">CANTIDAD</th>
        <th scope="col">SERVICIO</th>
        <th scope="col">FECHA Y HORA</th>
      </tr>
    </thead>
    <tbody>

      <tr *ngFor="let movimiento of movimientos" >
        <td>{{movimiento.tipo_movimiento}}</td>
        <td>{{movimiento.cantidad}}</td>
        <td>{{movimiento.servicio}}</td>
        <td>{{movimiento.fecha_registro}}</td>

      </tr>
    </tbody>
  </table>
  <!-- tabla con los movimientos realizados hasta el momento -->
  <hr>
      <div class="row">
        <div class=" d-flex justify-content-center ">
          <button class="btn btn-secondary" (click)="salir()" >Salir</button>
        </div>
      </div>
  <h2 class="text-center mt-4">Historial de turnos</h2>
  <div class="row mt-5">
    <table class="table table-striped table-hover">
      <thead>
        <tr>
          <!-- <th scope="col">ID TURNO</th> -->
          <th scope="col">FECHA DE INICIO</th>
          <th scope="col">FECHA DE FINALIZACION</th>
          <th scope="col">NOTAS</th>
          <th scope="col">ACCIONES</th>
        </tr>
      </thead>
      <tbody>

        <tr *ngFor="let turno of turnos" >
          <!-- <td>{{turno.id_turno}}</td> -->
          <td>{{turno.fecha_inicio}}</td>
          <td>{{turno.fecha_final}}</td>
          <td>{{turno.notas}}</td>
          <td>
            <div>
              <button class="btn btn-info" (click)="detallesTurno(turno.id_turno)">Detalles</button>
            </div>
          </td>
  
        </tr>
      </tbody>
    </table>
  </div>
</div>